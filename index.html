<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Search</title>
    <link rel="stylesheet" href="css/main.css">
</head>

<body>
    <div class="header">
        <div class="header-content container">
            <div class="logo"><img src="img/logo.png" alt="Aldavr logo"></div>
            <div class="search-bar">
                <input type="text" class="search-input" placeholder="Search for movies...">
                <button class="search-button">Search</button>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="categories">
            <button class="category-button active">All</button>
            <button class="category-button">Action</button>
            <button class="category-button">Drama</button>
            <button class="category-button">Comedy</button>
            <!-- Add more categories as needed -->
        </div>

        <div class="movie-grid" id="movieGrid">
            <!-- Movie cards will be injected here by JavaScript -->
        </div>
    </div>

    <!-- Modal for movie details -->
    <div id="movieModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="video-container">
                <iframe id="movieTrailer" src="" frameborder="0" allowfullscreen></iframe>
            </div>
            <div class="movie-details">
                <h2 id="modalMovieTitle"></h2>
                <p id="modalMovieDescription"></p>
                <p id="modalMovieRating"></p>
            </div>
        </div>
    </div>

    <script>
        // Fetch the data from the data.json file
        fetch('data/data.json')
            .then(response => response.json())
            .then(data => {
                const movieContainer = document.getElementById('movieGrid');

                // Iterate over each movie and create a card for it
                data.results.forEach(movie => {
                    // Create a card div
                    const movieCard = document.createElement('div');
                    movieCard.classList.add('movie-card');

                    // Add movie poster
                    const poster = document.createElement('img');
                    poster.src = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;
                    poster.classList.add('movie-poster');
                    movieCard.appendChild(poster);

                    const movieInfo = document.createElement('div');
                    movieInfo.classList.add('movie-info');

                    // Add movie title
                    const title = document.createElement('p');
                    title.textContent = movie.title;
                    title.classList.add('movie-title');
                    movieInfo.appendChild(title);

                    const rating = document.createElement('p');
                    rating.classList.add('movie-rating');
                    const roundedRating = Math.round(movie.vote_average * 10) / 10;
                    rating.textContent = `â˜… ${roundedRating.toFixed(1)}`;
                    movieInfo.appendChild(rating);

                    // Append the movie info div to the card
                    movieCard.appendChild(movieInfo);

                    movieContainer.appendChild(movieCard);
                });
            })
            .catch(error => console.error('Error fetching the data:', error));
    </script>
    <script src="js/main.js"></script>
</body>

</html>